数据及元数据标准
==============

数据及元数据标准


4.2.  如何递交原始数据
---------------------
将原始测序的时空转录组学数据递交至STOC，用户除了需要提供原始数据，还需要提供描述测序数据元数据信息以便用户递交的数据可以被更好的检索和复用。
用户可以通过参阅下述网址中的方式进行原始数据递交：
https://db.cngb.org/stomics/submission
以下章节将会帮助用户了解需要递交哪些数据，同时下述网址中可以查阅递交模板：
https://ftp.cngb.org/pub/stomics/

+------------------------+----------------------------+
|Field Name	         |Note                        |
+========================+============================+
|Stereo-seq Fastq	 |时空测序芯片测序文件，.Fastq|
+------------------------+----------------------------+
|Stereo chip mask	 |数据文件，支持.h5和.bin后缀 |
+------------------------+----------------------------+
|microscope slide image	 |图像文件，.tiff或.tif       |
+------------------------+----------------------------+
我们约定了时空转录组学测序的原始文件类型，包括时空测序芯片测序文件FASTQ，FASTQ是一种基于文本的格式，用于存储生物序列（通常是核苷酸序列）及其相应的测序质量分数。时空定位芯片掩模文件，用二进制格式.bin或.h5格式，用于存放和记录时空定位芯片测序的探针序列及其空间分布，后续与时空测序数据进行比对，从而确定时空测序技术捕获到的分子在空间上的分布情况。时空测序影像，利用图像学中通用的图像文件格式TIFF或TIF，是一种用于存储时空转录组测序前拍摄的显微影像，用于后期与时空转录组测序数据进行配准。

4.4.  递交标准分析结果文件
--------------------------
+----------------------------------+-------------------------------------+
|Field Name                        |Note                                 |
+==================================+=====================================+
|raw feature-spot matrix           |矩阵文件名，支持.gem和.gef后缀       |
+----------------------------------+-------------------------------------+
|filtered feature-spot matrix      |矩阵文件名，支持.gem和.gef后缀       |
+----------------------------------+-------------------------------------+
|cell annotation                   |注释文件                             |
+----------------------------------+-------------------------------------+
|binsize                           |格式校验                             |
+----------------------------------+-------------------------------------+
|cell bin                          |支持列举的值填写                     |
+----------------------------------+-------------------------------------+
|MD5.list                          |MD5文件                              |
+----------------------------------+-------------------------------------+
|Mapping                           |比对结果文件                         |
+----------------------------------+-------------------------------------+
同时我们也约定了标准分析结果文件，它包括上述表格中的文件类型。其中，原始表达矩阵，即时空转录组学标准分析结果得到的时空转录组基因表达矩阵，filtered后的表达矩阵包括不限于按照组织轮廓切割、按照组织的最大外接矩形切割的表达矩阵等。基因表达矩阵文件用于存储基因的空间表达数据。Stereo-seq技术的SAW 流程中生成的GEF 文件可通过小工具转换成纯文本表格格式基因表达矩阵（GEM），基本格式为含表头的四列
数据，分别为基因名称、x 坐标、y 坐标、和MID 数。表达矩阵中原点位置校准至（0，0）。基因表达矩阵的表头部分包含六行以“#”开头的注释信息。表头字段说明见表**。

+--------------+--------+----------------+----------------------------------------------------------------------+
|表头字段      |数据类型|示例            |说明                                                                  |
+==============+========+================+======================================================================+
|#FileFormat   |string  |GEMv0.1         |基因表达矩阵文件格式版本号。                                          |
+--------------+--------+----------------+----------------------------------------------------------------------+
|#SortedBy     |string  |None            |基因表达矩阵排序策略，有效值包括“geneID”, “x”, “y”, ”MIDCount”, “None”|
+--------------+--------+----------------+----------------------------------------------------------------------+
|#BinSize      |uint16  |1               |（见** 属于概念Bin。）                                                |
+--------------+--------+----------------+----------------------------------------------------------------------+
|#StereoChip   |string  |FP200000617TL_C3|时空芯片SN。                                                          |
+--------------+--------+----------------+----------------------------------------------------------------------+
|#OffsetX      |uint32  |1               |原点校准至（0，0）前x坐标。                                           |
+--------------+--------+----------------+----------------------------------------------------------------------+
|#OffsetY      |uint32  |1               |原点校准至（0，0）前y坐标。                                           |
+--------------+--------+----------------+----------------------------------------------------------------------+
|geneID        |string  |Cr2             |基因名称。                                                            |
+--------------+--------+----------------+----------------------------------------------------------------------+
|x             |uint32  |16809           |x坐标。                                                               |
+--------------+--------+----------------+----------------------------------------------------------------------+
|y             |uint32  |8546            |y坐标。                                                               |
+--------------+--------+----------------+----------------------------------------------------------------------+
|MIDCount      |uint32  |1               |该行基因在坐标（x，y）处的MID数。                                     |
+--------------+--------+----------------+----------------------------------------------------------------------+
比对结果文件，BAM格式为存储测序数据和参考基因组比对、注释结果的常用二进制格式。其中Stereo-seq技术得到的BAM格式文件在QUAL部分进行了Q4简并，更适用于时空转录组大数据的读写和存储。Mapping BAM标签栏 添加自定义标签记录reads的坐标、CID和MID相关的信息，count BAM添加注释信息。
